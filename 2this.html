<!DOCTYPE html>
<html lang="cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
//全局环境 (函数体外部) this 都指向全局对象
//在浏览器中,window对象同时也是全局对象
//   console.log(this ===window)  // => true
// function f1() {
//     return this;
// }
//  console.log(this) // this === window
//  f1() === window 
//  //node中 
//  f1() === global
// function f2(){
//     "use strict"// 这里是严格模式
//     return this;
// } 

// f2() === undefined // true

// var o = {
//     prop: 37,
//     f: function () {
//         return this.prop;
//     }
// };
// console.log(o.f) // => 37
// var o = { prop : 37}
// function independent () {
//     return this.prop
// }
// o.f = independent;
// console.log( o.f) // => 37

// o.b = { g: independent, prop:42};
// console.log (o.b.g()) // => 42
// var o = {
//     f : function (){
//         return this.a + this.b
        
//     }
// }
// var p = Object.create(o);
// p.a =1
// p.a=4

// console.log( p.f()) // => 5
// function sum () {
//     return this.a + this.b + this.c
// }
// var o = {
//     a : 1,
//     b : 2,
//     c : 3,
//     get average () {
//         return (this.a + this.b + this.c) // => 3
//     }
// }
// Object.defineProperty (o ,'sum', { 
//     get: sum, enumerable:true, configurable:true
// })
//   console.log (o.average,o.sum)
//  // 6,6 
//    构造函数
//  function Myway(){
//      //1 函数实体
//      //2 根据需要在this上创建属性,在赋值 eg this.a = 23
     
//      // if 如果函数具有返回对象的return语句,则该对象将是表达式new的结果
//     //  else new表达式的结是当前绑定到this 的对象 
//  }

// function C(){
//     this.a = 37
// }
// var o = new C();
// console.log(o.a)  
// //将 c里的this绑定到了o上.所以o.a=37
// function C2(){
//     this.a = 37;
//     return {a:38}
// }
// var o = new C2();
// console.log(o.a)  // => 38
// 作为一个DOM事件处理函数
function bluify(e){
    console.log(this === e.currentTarget); //总是true

    // 当currentTarget 和 target 是同一个对象时为true
console.log(this === e.target);
this.style.backgroundColor = "#A5D9F3";

}

// 获取文档中所有元素的列表
var elements = document.getElementsByTagName('*')
// 将bluify作为元素的点击监听函数，当元素被点击时，就会变成蓝色
for(var i=0 ; i<elements.length ; i++){
  elements[i].addEventListener('click', bluify, false);
}
</script>
</html>
